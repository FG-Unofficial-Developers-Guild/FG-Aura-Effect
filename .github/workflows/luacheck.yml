on:
  push:
  pull_request:

name: Run Luacheck on Push or PR

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Install Lua/LuaJIT
        uses: leafo/gh-actions-lua@v8.0.0
        with:
          luaVersion: 5.1
      - name: luacheck
        # You may pin to the exact commit or the version.
        # uses: nebularg/actions-luacheck@86af42dcf465915896671903fcdec3e01a492e87
        uses: nebularg/actions-luacheck@v1.1.0
        with:
          # A list of files, rockspecs, or directories to be checked. Paths can be
          # absolute or relative to the `path` option.
          files: '.'

          # URL to a custom configuration (`.luacheckrc`) file that will be used as
          # the default configuration file.
          config: https://raw.githubusercontent.com/bmos/FG-luacheck/main/fg.luacheckrc
          
          # Additional command-line arguments.
          # See https://luacheck.readthedocs.io/en/stable/cli.html
          args: '--exclude-files .install/*'

          # Emits annotations for source code at locations parsed from the output.
          # Must be set to "none", "warning" or "error".
          annotate: 'none'
